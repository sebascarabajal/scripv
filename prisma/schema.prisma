generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model preguntas_gral {
  id_pregunta_gral Int @id @default(autoincrement())
  pregunta_gral_txt String
  respuestas_gral respuestas_gral[]
}

model respuestas_gral {
  id_respuestas_gral Int @id @default(autoincrement())
  id_pregunta_gral Int
  respuesta_gral_valor String
  preguntas_gral preguntas_gral @relation(fields: [id_pregunta_gral], references: [id_pregunta_gral])
  encuestas encuestas[]
}

model encuestas {
  id_encuesta Int @id @default(autoincrement())
  id_respuestas_gral Int
  id_respuestas_estruc Int
  id_Usuario Int
  fecha DateTime
  sector Int
  manzana String
  casa Int
  nro_vivienda Int
  nro_hogares Int
  Usuarios Usuarios @relation(fields: [id_Usuario], references: [id_Usuario])
  respuestas_gral respuestas_gral @relation(fields: [id_respuestas_gral], references: [id_respuestas_gral])
  respuestas_estruc respuestas_estruc @relation(fields: [id_respuestas_estruc], references: [id_respuestas_estruc])
}

model Usuarios {
  id_Usuario Int @id @default(autoincrement())
  Nombre String
  Apellido String
  Email String @unique
  Tipo_usuario String
  Creado DateTime @default(now())
  Modificado DateTime @updatedAt
  encuestas encuestas[]
}

model estruc_fam_preg {
  id_estruct_preg Int @id @default(autoincrement())
  estruc_preg_txt String
  respuestas_estruc respuestas_estruc[]
}

model respuestas_estruc {
  id_respuestas_estruc Int @id @default(autoincrement())
  id_estruct_preg Int
  respuesta_estruc Int
  estruc_fam_preg estruc_fam_preg @relation(fields: [id_estruct_preg], references: [id_estruct_preg])
  encuestas encuestas[]
}